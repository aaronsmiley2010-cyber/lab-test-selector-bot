{% extends "pims/base.html" %}

{% block title %}New Patient - Veterinary PIMS{% endblock %}

{% block content %}
<div class="card">
    <h2>Register New Patient</h2>

    <form method="POST" action="{{ url_for('pims.new_patient') }}">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
            <div>
                <h3 style="color: #667eea; margin-bottom: 15px;">Patient Information</h3>

                <div class="form-group">
                    <label for="name">Patient Name *</label>
                    <input type="text" id="name" name="name" required placeholder="e.g., Max">
                </div>

                <div class="form-group">
                    <label for="species">Species *</label>
                    <select id="species" name="species" required>
                        <option value="">Select species</option>
                        <option value="dog">Dog</option>
                        <option value="cat">Cat</option>
                        <option value="bird">Bird</option>
                        <option value="rabbit">Rabbit</option>
                        <option value="hamster">Hamster</option>
                        <option value="guinea pig">Guinea Pig</option>
                        <option value="reptile">Reptile</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="breed">Breed *</label>
                    <input type="text" id="breed" name="breed" required placeholder="e.g., Golden Retriever">
                </div>

                <div class="form-group">
                    <label for="gender">Gender *</label>
                    <select id="gender" name="gender" required>
                        <option value="">Select gender</option>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                        <option value="male_neutered">Male (Neutered)</option>
                        <option value="female_spayed">Female (Spayed)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="date_of_birth">Date of Birth *</label>
                    <input type="date" id="date_of_birth" name="date_of_birth" required>
                </div>

                <div class="form-group">
                    <label for="weight">Weight (lbs) *</label>
                    <input type="number" step="0.1" id="weight" name="weight" required placeholder="e.g., 45.5">
                </div>

                <div class="form-group">
                    <label for="microchip_id">Microchip ID</label>
                    <input type="text" id="microchip_id" name="microchip_id" placeholder="Optional">
                </div>
            </div>

            <div>
                <h3 style="color: #667eea; margin-bottom: 15px;">Owner Information</h3>

                <div class="form-group">
                    <label for="owner_name">Owner Name *</label>
                    <input type="text" id="owner_name" name="owner_name" required placeholder="e.g., John Smith">
                </div>

                <div class="form-group">
                    <label for="owner_contact">Owner Contact *</label>
                    <input type="text" id="owner_contact" name="owner_contact" required placeholder="Phone or Email">
                </div>

                <h3 style="color: #667eea; margin: 30px 0 15px 0;">Medical Information</h3>

                <div class="form-group">
                    <label for="allergies">Known Allergies</label>
                    <textarea id="allergies" name="allergies" rows="3" placeholder="Separate multiple allergies with commas (e.g., Penicillin, Chicken)"></textarea>
                </div>

                <div class="ai-section" style="margin-top: 20px;">
                    <p><strong>AI Features:</strong> After registration, the system will automatically:</p>
                    <ul style="margin-top: 10px; padding-left: 20px;">
                        <li>Perform initial health risk assessment</li>
                        <li>Generate preventive care recommendations</li>
                        <li>Set up vaccination schedule reminders</li>
                    </ul>
                </div>
            </div>
        </div>

        <div style="margin-top: 30px; display: flex; gap: 10px;">
            <button type="submit" class="btn btn-success">Register Patient</button>
            <a href="{{ url_for('pims.index') }}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
